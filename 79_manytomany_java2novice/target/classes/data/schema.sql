DROP DATABASE IF EXISTS manytomanyjava2novice;
CREATE DATABASE IF NOT EXISTS manytomanyjava2novice CHARACTER SET utf8 COLLATE utf8_general_ci;
USE manytomanyjava2novice;

CREATE TABLE EMPLOYEES (

                         EMP_ID BIGINT NOT NULL AUTO_INCREMENT,
                         NAME VARCHAR(252),
                         DEPARTMENT VARCHAR(128),
                         SALARY BIGINT,
                         JOINED_ON TIMESTAMP,
                         PRIMARY KEY (EMP_ID)
);

CREATE TABLE PROJECTS (

                        PR_ID BIGINT NOT NULL AUTO_INCREMENT,
                        NAME VARCHAR(252),
                        OWNER VARCHAR(252),
                        PRIMARY KEY (PR_ID)
);

CREATE TABLE EMP_ASSIGNMENTS (

                               EA_ID BIGINT NOT NULL AUTO_INCREMENT,
                               EMP_ID BIGINT,
                               PR_ID BIGINT,
                               PRIMARY KEY (EA_ID),
                               FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEES(EMP_ID),
                               FOREIGN KEY (PR_ID) REFERENCES PROJECTS(PR_ID)
);

INSERT INTO EMPLOYEES (EMP_ID, NAME, DEPARTMENT, SALARY, JOINED_ON) VALUES (1, 'Nataraja G', 'Documentation', 10000, CURRENT_TIMESTAMP);
INSERT INTO EMPLOYEES (EMP_ID, NAME, DEPARTMENT, SALARY, JOINED_ON) VALUES (2, 'Amar M', 'Entertainment', 12000, CURRENT_TIMESTAMP);
INSERT INTO EMPLOYEES (EMP_ID, NAME, DEPARTMENT, SALARY, JOINED_ON) VALUES (3, 'Nagesh Y', 'Admin', 25000, CURRENT_TIMESTAMP);
INSERT INTO EMPLOYEES (EMP_ID, NAME, DEPARTMENT, SALARY, JOINED_ON) VALUES (4, 'Vasu V', 'Security', 2500, CURRENT_TIMESTAMP);

INSERT INTO PROJECTS (PR_ID, NAME, OWNER) VALUES (1, 'Ticket Online', 'Bunty');
INSERT INTO PROJECTS (PR_ID, NAME, OWNER) VALUES (2, 'Disco Drum', 'Chanty');
INSERT INTO PROJECTS (PR_ID, NAME, OWNER) VALUES (3, 'Traffic Audit', 'Sonty');

INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (1, 1, 1);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (2, 1, 2);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (3, 1, 3);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (4, 2, 2);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (5, 2, 3);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (6, 3, 1);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (7, 3, 3);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (8, 4, 1);
INSERT INTO EMP_ASSIGNMENTS (EA_ID, EMP_ID, PR_ID) VALUES (9, 3, 2);